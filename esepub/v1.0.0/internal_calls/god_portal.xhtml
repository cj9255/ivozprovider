<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Bloque ‘Gestión General’</title>
    
    <link rel="stylesheet" href="../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/banner.css" type="text/css" /> 
  </head>
  <body role="document">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.xhtml" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="brand_portal.xhtml" title="Bloque ‘Configuración de Marca’"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="index.xhtml" title="Realizar llamadas internas"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.xhtml">documentación de IvozProvider - Oasis</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.xhtml" accesskey="U">Realizar llamadas internas</a> &#187;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="bloque-gestion-general">
<h1>Bloque &#8216;Gestión General&#8217;</h1>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Cualquiera de las 2 IPs públicas configuradas en la instalación servirá para acceder al panel web. Las credenciales por defecto son <em>admin / changeme</em>.</p>
</div>
<p>En esta sección haremos referencia a todo lo relativo al rol operador global, configurable en el bloque <strong>Gestión general</strong> del panel web (solo visible para God):</p>
<img alt="../_images/bloque_god.png" class="align-center" src="../_images/bloque_god.png" />
<div class="section" id="configuracion-personalizada-en-la-instalacion">
<h2>Configuración personalizada en la instalación</h2>
<p>En el proceso de instalación se pregunta al administrador dos direcciones IP, con el fin de arrancar los siguientes 2 procesos:</p>
<div class="section" id="proxy-de-usuarios">
<span id="proxyusers"></span><h3>Proxy de Usuarios</h3>
<p>Es el proxy SIP expuesto al mundo exterior al que se registran los terminales de los usuarios.</p>
<p>El valor mostrado en la sección <strong>Proxy de Usuarios</strong> reflejará la IP introducida en el proceso de instalación.</p>
<img alt="../_images/proxyusers.png" src="../_images/proxyusers.png" />
</div>
<div class="section" id="proxy-de-salida">
<h3>Proxy de Salida</h3>
<p>Es el proxy SIP expuesto al mundo exterior al que hablarán los Operadores IP con los que el operador de marca decida hacer <em>peering</em>.</p>
<p>El valor mostrado en la sección <strong>Proxy de Salida</strong> reflejará la IP introducida en el proceso de instalación.</p>
<img alt="../_images/proxytrunks.png" src="../_images/proxytrunks.png" />
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Solo se explicita la dirección IP, ya que el puerto siempre será 5060 (5061 para SIP sobre TLS).</p>
</div>
<div class="admonition danger">
<p class="first admonition-title">Peligro</p>
<p class="last">Estos 2 valores pueden editarse desde la web, pero siempre tienen que tener la dirección IP a la que escuchan dichos procesos.</p>
</div>
</div>
</div>
<div class="section" id="configuracion-global-estandar">
<h2>Configuración global estándar</h2>
<p>El proceso de instalación incluye otros valores globales que son iguales en toda instalación de IvozProvider (standalone) y que también se pueden ver desde la interfaz web.</p>
<div class="section" id="servidores-de-aplicacion">
<h3>Servidores de aplicación</h3>
<p>En la sección <strong>Servidores de Aplicación</strong> se listan las direcciones IP donde escuchan los distintos Asterisk que componen la solución que, tal y como se ha mencionado, escalan horizontalmente para adaptarse a la carga de la plataforma.</p>
<p>A diferencia de los Proxies, estos Asterisk no están expuestos al exterior, por lo que en una instalación standalone solo habrá uno y escuchará en 127.0.0.1.</p>
<img alt="../_images/app_servers.png" src="../_images/app_servers.png" />
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">El puerto en el que escuchan no se recoge en el campo, ya que siempre será 6060 (UDP).</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Desde el momento en el que se añade otro Servidor de Aplicación, se intentará contar con él a la hora de repartir la carga. Si éste no responde, se desactivará automáticamente.</p>
</div>
</div>
<div class="section" id="servidores-de-media">
<h3>Servidores de Media</h3>
<p>Los media-relays son los que mueven el tráfico RTP en una llamada establecida y, al igual que ocurre con los Servidores de Aplicación, permiten un escalado horizontal para adaptarse a la carga de la plataforma.</p>
<p>Los media-relays se organizan en grupos con el fin de poder asignar un grupo concreto a una empresa concreta. Cada elemento del grupo tiene una <strong>métrica</strong> que permite repartos de carga desiguales dentro de un mismo grupo (e.g. media-relay1 métrica 1; media-relay2 métrica 2: media-relay2 gestionará el audio del doble de llamadas que media-relay1).</p>
<div class="admonition hint">
<p class="first admonition-title">Consejo</p>
<p class="last">La asignación de grupos de media-relays concretos a empresas concretas permite asignar recursos estáticos a empresas que requieren tener garantizado unos recursos concretos. Pero, lo más útil de este tipo de configuración es que estos <strong>grupos de media-relays pueden estar en ubicaciones geográficas cercanas al emplazamiento de la empresa</strong> (y lejanas al resto de la plataforma) para <strong>reducir las latencias</strong> en sus conversaciones.</p>
</div>
<p>En una instalación standalone, no obstante, solo existe un grupo de media-relays:</p>
<img alt="../_images/media_relay_groups.png" src="../_images/media_relay_groups.png" />
<p>Por defecto, este grupo solo contiene un media-relay:</p>
<img alt="../_images/media_relays.png" src="../_images/media_relays.png" />
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">La dirección que aparece es la dirección del socket de control, no la dirección que se acaba incluyendo en los SDPs de negociación de sesión. Por defecto, este único media-relay utiliza la misma IP que el Proxy de Usuarios.</p>
</div>
</div>
<div class="section" id="dominios-sip">
<span id="god-sipdomains"></span><h3>Dominios SIP</h3>
<p>En la sección <strong>Dominios</strong> se muestran los dominios SIP que apuntan a las 2 IPs públicas:</p>
<ul class="simple">
<li>IP de Proxy de Usuarios</li>
<li>IP de Proxy de Salida</li>
</ul>
<p>Tras una instalación inicial existen 2 dominios, uno para queda una de esas 2 IPs:</p>
<img alt="../_images/domain_list_local.png" src="../_images/domain_list_local.png" />
<p>Estos dominios se utilizan internamente y el servidor de DNS incorporado en la solución los resuelve a las IPs concretas.</p>
<div class="admonition attention">
<p class="first admonition-title">Atención</p>
<p class="last">Tal y como se verá en la sección <a class="reference internal" href="brand_portal.xhtml#domain-per-company"><span class="std std-ref">Dominio SIP de la compañía</span></a>, cada compañía necesitará un DNS que apunte a la IP del Proxy de Usuarios. Una vez configurado, el dominio aparecerá en esta sección para que el operador global sepa los dominios configurados para cada empresa de un vistazo.</p>
</div>
</div>
</div>
<div class="section" id="emular-la-marca-demo">
<h2>Emular la marca Demo</h2>
<p>Tras la instalación inicial, la plataforma incluye una marca pre-creada llamada DemoBrand, que es la que utilizaremos para el fin que nos ocupa: tener 2 teléfonos registrados y que se puedan llamar entre sí.</p>
<p>Antes de pasar a la siguiente sección, es importante entender el concepto de <strong>Emular una marca</strong>:</p>
<ul class="simple">
<li>Como operador global, tienes acceso al bloque <strong>Gestión general</strong>, que solo ve <em>God</em>.</li>
<li>Aparte de ese bloque, también ves los bloques <strong>Configuración de marca</strong> y <strong>Configuración de empresa</strong> que tienen este aspecto:</li>
</ul>
<img alt="../_images/emular_marca_prev.png" class="align-center" src="../_images/emular_marca_prev.png" />
<ul class="simple">
<li>Atención especial al siguiente botón:</li>
</ul>
<img alt="../_images/emular_marca.png" class="align-center" src="../_images/emular_marca.png" />
<ul class="simple">
<li>Una vez pulsado, muestra una ventana flotante tal que:</li>
</ul>
<img alt="../_images/emular_marca2.png" class="align-center" src="../_images/emular_marca2.png" />
<ul class="simple">
<li>Al seleccionar la marca DemoBrand, el icono cambia y muestra la marca que se está emulando:</li>
</ul>
<img alt="../_images/emular_marca3.png" class="align-center" src="../_images/emular_marca3.png" />
<ul class="simple">
<li>La parte superior derecha de la página también muestra la marca que se está emulando:</li>
</ul>
<img alt="../_images/emular_marca4.png" class="align-center" src="../_images/emular_marca4.png" />
<div class="section" id="que-implica-esta-emulacion">
<h3>¿Qué implica esta emulación?</h3>
<p>Que <strong>todo lo que se ve en el bloque &#8216;Configuración de marca&#8217; es relativo a esa marca</strong> y es <em>exactamente</em> lo mismo que lo que ve el operador de marca cuando entra con sus credenciales de acceso.</p>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Decir exactamente es mucho decir, ya que el operador global ve campos en ciertas secciones del bloque <strong>Configuración de marca</strong> que el operador de marca no ve. e.g. Al editar una empresa <em>God</em> ve &#8216;Servidores de media&#8217; y &#8216;AS&#8217;, que el operador de marca no ve.</p>
</div>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Irontec.
      Creado con <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.9.
    </div>
  </body>
</html>